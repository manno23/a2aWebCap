name = "a2a-webcap-server"
main = "src/worker.ts"
compatibility_date = "2024-11-17"
compatibility_flags = ["nodejs_compat"]

[build]
command = "npm run build"

[env.production]
name = "a2a-webcap-server-prod"

[env.staging]
name = "a2a-webcap-server-staging"

# Environment variables
[vars]
AGENT_NAME = "A2A WebCap Worker Agent"
AGENT_DESCRIPTION = "A2A protocol agent running on Cloudflare Workers"

# KV Namespaces
[[kv_namespaces]]
binding = "A2A_SESSIONS"
id = "your-kv-namespace-id"
preview_id = "your-preview-kv-namespace-id"

[[kv_namespaces]]
binding = "A2A_TASKS"
id = "your-kv-namespace-id-2"
preview_id = "your-preview-kv-namespace-id-2"

# Durable Objects
[[durable_objects.bindings]]
name = "A2A_SESSIONS_DO"
class_name = "A2ASessionDO"
script_name = "a2a-webcap-server"
